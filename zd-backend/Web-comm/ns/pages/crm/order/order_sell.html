<div class="modal-header">
    <button type="button" class="close" ng-click="mm.close()"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
    <h4 class="modal-title">{{mm.site.title}}</h4>
</div>
<div class="modal-body">
    <div class="wrapper-md ng-scope">
	    <form name="Form"  class="form-horizontal form-validation" novalidate>
	        <div class="form-group"   ng-repeat="row in mm.selected.roomList">
	            <label class="col-sm-4 control-label">单位编号:{{row.fullCode}}</label>
	            <label class="col-sm-4 control-label">建筑面积:{{row.constructionArea}}㎡</label>
	            <label class="col-sm-4 control-label">价格:{{row.salePrice}}￥/㎡</label>
	             <div class="col-sm-3">
	            <button class="btn btn-sm btn-danger fa fa-trash-o m-t-n-xxs m-l-xs" ng-click="mm.delRoom($index)"></button>
	            </div>
	        </div>
	        
	        <div class="form-group"   ng-repeat="row in mm.form.order.roomList">
	            <label class="col-sm-4 control-label">单位编号:{{row.fullCode}}</label>
	            <label class="col-sm-4 control-label">建筑面积:{{row.roomArea}}㎡</label>
	            <label class="col-sm-4 control-label">价格:{{row.roomPrice}}￥/㎡</label>
	        </div>
	        
	        <div class="form-group" ng-if="mm.site.code == 1">
	            <label class="col-sm-2 control-label"><span class="text-danger">*</span>房源 :</label>
	             <div class="col-sm-3" ng-repeat="row in mm.layerSelects" >
	            	<select class="form-control" ng-model="row.selected" ng-options="layer.id as layer.name for layer in row.layers" ng-change="mm.getRoom($index,row.selected)"></select>
	            </div>
	            
	            <div class="col-sm-3">
	            	<select class="form-control" ng-model="mm.roomId" ng-options="r.id as r.name for r in mm.roomList" ng-change="mm.selectRoom(r)"></select>
	            </div>
	             <div class="col-sm-3">
	               <button class="btn btn-sm btn-success glyphicon glyphicon-plus m-t-n-xxs m-l-sm" ng-click="mm.addRoom()"></button>
	             </div>
	        </div>
	        <div class="line line-dashed b-b line-lg" ng-if="mm.site.code == 1"></div>
	        <div class="form-group" ng-if="mm.site.code == 1">
	            <label class="col-sm-2 control-label"><span class="text-danger">*</span>客户:</label>
	             <div class="col-sm-7">
	             	<input type="text" class="form-control" ng-model="mm.custimerName" disabled></input>
	            </div>
	            <div class="col-sm-2">
		            <button class="btn btn-sm btn-success glyphicon glyphicon-plus m-t-n-xxs m-l-sm"    ng-click="mm.toCustomer()"></button>
		        </div>
	        </div>
	        <div class="line line-dashed b-b line-lg" ng-if="mm.site.code == 1"></div>
	        <div class="form-group" ng-if="mm.site.code == 1">
	            <label class="col-sm-2 control-label">意向单:</label>
	             <div class="col-sm-7">
	             	<input type="text" class="form-control" ng-model="mm.demandCustimerName" disabled></input>
	            </div>
	            <div class="col-sm-2">
		            <button class="btn btn-sm btn-success glyphicon glyphicon-plus m-t-n-xxs m-l-sm"    ng-click="mm.toDemand()"></button>
		        </div>
	        </div>
	        <div class="line line-dashed b-b line-lg"></div>
	        <div class="form-group">
	            <label class="col-sm-2 control-label">付款方式:</label>
	             <div class="col-sm-9">
	             	<div class="radio col-sm-5" ng-repeat="row in mm.sellPays">
		              <label class="i-checks">
		                <input type="radio"   value="{{row.id}}" ng-model="mm.form.order.payType">
		                <i></i><span class="m-l-none">{{row.keyName}}</span>
		              </label>
		            </div>
	            </div>
	        </div>
	        
	         <div class="line line-dashed b-b line-lg"></div>
	        <div class="form-group">
	            <label class="col-sm-2 control-label">折扣:</label>
	             <div class="col-sm-9">
	             	<span ng-if="mm.site.code == 1 || mm.site.code == 2">
	            		<input type="number" class="form-control" ng-model="mm.form.order.discount"></input>
	             	</span>
	             	<span ng-if="mm.site.code == 3">
	            		<input type="number" class="form-control" ng-model="mm.form.order.discount" disabled ></input>
	             	</span>
	            </div>
	        </div>
	        
	    </form>
	    
    </div>
</div>
<div class="modal-footer">
    <span ng-if="mm.site.code == 1 || mm.site.code == 2">
    	<button type="button" class="btn btn-default" ng-click="mm.close()">取消</button>
    	<button type="button" class="btn btn-info" ng-disabled="Form.$invalid" ng-click="mm.addSell()">提交</button>
   	</span>
   	<span ng-if="mm.site.code == 3">
    	<button type="button" class="btn btn-default" ng-click="mm.close()">关闭</button>
   	</span>
</div>